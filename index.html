<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å€“å€“ï¼š2027è‹±è¯­æ„ç­‘ç³»ç»Ÿ(å¾ªåºæ¸è¿›ç‰ˆ)</title>
    <style>
        :root { --p:#2c3e50; --s1:#27ae60; --s2:#2980b9; --s3:#8e44ad; --s4:#d35400; --bg:#f4f7f6; }
        body { margin:0; font-family:"SF Pro", sans-serif; background:var(--bg); color:var(--p); display:flex; flex-direction:column; height:100vh; overflow:hidden; }
        
        header { background:#fff; padding:20px 40px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #eee; }
        .logo { font-size:1.4rem; font-weight:800; letter-spacing:-1px; }
        .stats { font-weight:bold; font-size:1.1rem; }

        .container { flex:1; display:grid; grid-template-columns:300px 1fr; overflow:hidden; }

        /* å·¦ä¾§åˆ†çº§èœå• */
        aside { background:#fff; border-right:1px solid #eee; padding:20px; overflow-y:auto; }
        .stage-group { margin-bottom:25px; }
        .stage-label { font-size:0.7rem; color:#95a5a6; font-weight:bold; margin-bottom:10px; padding-left:5px; border-left:3px solid #ddd; }
        .nav-btn { width:100%; padding:15px; margin-bottom:8px; border:1px solid #f0f0f0; border-radius:12px; background:#fff; text-align:left; cursor:pointer; transition:0.3s; font-size:0.9rem; position:relative; overflow:hidden; }
        .nav-btn:hover { background:#f9f9f9; transform:translateX(5px); }
        
        /* é˜¶æ®µè‰²å½© */
        .btn-s1.active { background:var(--s1); color:#fff; }
        .btn-s2.active { background:var(--s2); color:#fff; }
        .btn-s3.active { background:var(--s3); color:#fff; }
        .btn-s4.active { background:var(--s4); color:#fff; }

        /* ç»ƒä¹ åŒº */
        main { padding:40px; display:flex; flex-direction:column; align-items:center; justify-content:center; }
        .card { width:100%; max-width:800px; background:#fff; border-radius:30px; padding:50px; box-shadow:0 10px 40px rgba(0,0,0,0.05); border:1px solid #eee; }
        .mode-info { font-size:0.8rem; font-weight:bold; margin-bottom:10px; display:inline-block; padding:4px 12px; border-radius:20px; }
        
        .q-context { font-size:1.2rem; color:#7f8c8d; line-height:1.6; margin-bottom:20px; }
        .q-word { font-size:2.5rem; font-weight:800; color:var(--p); margin-bottom:40px; }

        .options { display:grid; grid-template-columns:1fr 1fr; gap:15px; width:100%; }
        .opt { padding:22px; border:2px solid #f1f1f1; border-radius:18px; font-size:1.1rem; cursor:pointer; background:#fff; transition:0.2s; }
        .opt:hover { border-color:#2c3e50; }
        .opt.correct { background:#27ae60 !important; color:#fff; border-color:#27ae60; }
        .opt.wrong { background:#e74c3c !important; color:#fff; border-color:#e74c3c; }

        /* å¼¹çª— */
        .overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.4); backdrop-filter:blur(10px); display:none; align-items:center; justify-content:center; z-index:100; }
        .pop { background:#fff; border-radius:25px; padding:40px; width:90%; max-width:500px; box-shadow:0 20px 50px rgba(0,0,0,0.2); }
        .pop h3 { margin-top:0; color:var(--p); }
        .pop p { line-height:1.7; color:#555; margin-bottom:25px; font-size:1.1rem; }
        .pop button { width:100%; padding:18px; background:var(--p); color:#fff; border:none; border-radius:12px; font-weight:bold; cursor:pointer; }
    </style>
</head>
<body>

<header>
    <div class="logo">TANTAN STEP-BY-STEP</div>
    <div class="stats">XP: <span id="xp">0</span></div>
</header>

<div class="container">
    <aside>
        <div class="stage-group">
            <div class="stage-label">Step 1: å¤¯å®æ ¡å†…åŸºç¡€</div>
            <button class="nav-btn btn-s1 active" onclick="setMode('s1', this)">ğŸ“¦ U1-U6 å…¨é‡èƒŒé»˜</button>
        </div>
        <div class="stage-group">
            <div class="stage-label">Step 2: è¯æ€§è½¬åŒ–è¿›é˜¶</div>
            <button class="nav-btn btn-s2" onclick="setMode('s2', this)">ğŸ§¬ æ´¾ç”Ÿè¯ä¸“é¡¹è®­ç»ƒ</button>
        </div>
        <div class="stage-group">
            <div class="stage-label">Step 3: GRT é€»è¾‘æ„å»º</div>
            <button class="nav-btn btn-s3" onclick="setMode('s3', this)">ğŸ§  è¯­ç¯‡é€»è¾‘ä¸æ€ç»´</button>
        </div>
        <div class="stage-group">
            <div class="stage-label">Step 4: 2027 ä¸­è€ƒé¢„æ¼”</div>
            <button class="nav-btn btn-s4" onclick="setMode('s4', this)">ğŸ’ ä¸Šæµ·å·é«˜é¢‘æ ¸å¿ƒè¯</button>
        </div>
    </aside>
    <main>
        <div class="card">
            <div id="mode-badge" class="mode-info" style="background:#e8f5e9; color:#27ae60;">åŸºç¡€å·©å›ºæ¨¡å¼</div>
            <div id="q-ctx" class="q-context">æ­£åœ¨åŒæ­¥æ–‡æ¡£å†…å®¹...</div>
            <div id="q-word" class="q-word">START</div>
            <div id="opt-box" class="options"></div>
        </div>
    </main>
</div>

<div class="overlay" id="overlay">
    <div class="pop">
        <h3 id="pop-title">ğŸ’¡ æ„ç­‘è§£æ</h3>
        <p id="k-text"></p>
        <button onclick="closePop()">ç†è§£å¹¶ç»§ç»­</button>
    </div>
</div>

<script>
    const DATA = {
        's1': [
            {ctx:"U1: å¤§å¤šæ•°æ·¡æ°´è¢«ã€é”åœ¨å†°é‡Œã€ã€‚", q:"lock up in ice", a:"é”åœ¨å†°é‡Œ", k:"æ–‡æ¡£é‡ç‚¹ï¼šlock up (å°å­˜)ã€‚"},
            {ctx:"U1: å†™ä¸€ä»½ä¿æŠ¤æ°´çš„ã€å»ºè®®ä¹¦ã€ã€‚", q:"proposal", a:"å»ºè®®/æè®®", k:"propose (v.) -> proposal (n.)ã€‚"},
            {ctx:"U2: æ‰‹è¡¨æ€»æ˜¯ã€æ­»æœºã€ã€‚", q:"keep freezing", a:"ä¸€ç›´æ­»æœº", k:"freeze åœ¨è¿™é‡ŒæŒ‡ç”µå­äº§å“å¡ä½ã€‚"},
            {ctx:"U4: å±äºæŸäººã€‚", q:"belong to sb.", a:"å±äºæŸäºº", k:"æ³¨æ„ï¼šbelong to æ²¡æœ‰è¿›è¡Œæ—¶å’Œè¢«åŠ¨ã€‚"},
            {ctx:"U6: å¼„æ˜ç™½ï¼›è®¡ç®—å‡ºã€‚", q:"figure out", a:"å¼„æ‡‚/ç®—å‡º", k:"figure out the problem."}
        ],
        's2': [
            {ctx:"U1: percent (n.) -> ç™¾åˆ†æ¯” (n.)", q:"percentage", a:"ç™¾åˆ†æ¯”", k:"What percentage of water is..."},
            {ctx:"U2: recognize (v.) -> è¯†åˆ« (n.)", q:"recognition", a:"è¯†åˆ«/è®¤å‡º", k:"facial recognition äººè„¸è¯†åˆ«ã€‚"},
            {ctx:"U5: success (n.) -> æˆåŠŸåœ° (adv.)", q:"successfully", a:"æˆåŠŸåœ°", k:"succeed -> success -> successful -> successfully."},
            {ctx:"U6: believe (v.) -> éš¾ä»¥ç½®ä¿¡çš„ (adj.)", q:"unbelievable", a:"éš¾ä»¥ç½®ä¿¡çš„", k:"believe -> believable -> unbelievable."}
        ],
        's3': [
            {ctx:"[G] We'll go for a walk ______ it rains.", q:"æ¡ä»¶é€»è¾‘", a:"unless", k:"unless (é™¤é) = if...notã€‚è€ƒæŸ¥é€»è¾‘è¿è¯ã€‚"},
            {ctx:"[G] ______ trees we plant, the better the air will be.", q:"å¥å‹é€»è¾‘", a:"The more", k:"The more... the more... è¶Š...è¶Š...ã€‚"},
            {ctx:"[G] He stopped ______ to me when I arrived.", q:"è¯­å¢ƒè¾¨æ", a:"to talk", k:"stop to do (åœä¸‹æ‰‹ä¸­çš„äº‹å»è¯´è¯) vs stop doing (åœæ­¢è¯´è¯)ã€‚"}
        ],
        's4': [
            {ctx:"[ä¸­è€ƒ] å–å¾—å·¨å¤§çš„ã€æˆå°±ã€ã€‚", q:"achievement", a:"æˆå°±; åŠŸç»©", k:"make great achievements in..."},
            {ctx:"[ä¸­è€ƒ] ä¸€ä¸ªã€å›½é™…åŒ–çš„ã€éƒ½å¸‚ã€‚", q:"international", a:"å›½é™…çš„", k:"Shanghai is an international city."},
            {ctx:"[ä¸­è€ƒ] æåº¦ã€çè´µçš„ã€èµ„æºã€‚", q:"precious", a:"çè´µçš„", k:"= valuable. Water is precious."}
        ]
    };

    let curMode = 's1'; let xp = 0;
    const colors = { s1:'#27ae60', s2:'#2980b9', s3:'#8e44ad', s4:'#d35400' };
    const labels = { s1:'åŸºç¡€å·©å›ºæ¨¡å¼', s2:'æ´¾ç”Ÿè¿›é˜¶æ¨¡å¼', s3:'é€»è¾‘æ„ç­‘æ¨¡å¼', s4:'ä¸­è€ƒæŒ‘æˆ˜æ¨¡å¼' };

    function setMode(m, el) {
        curMode = m;
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active','btn-s1','btn-s2','btn-s3','btn-s4'));
        el.classList.add('active', 'btn-' + m);
        
        const badge = document.getElementById('mode-badge');
        badge.innerText = labels[m];
        badge.style.background = colors[m] + '22';
        badge.style.color = colors[m];
        next();
    }

    function next() {
        const pool = DATA[curMode];
        const item = pool[Math.floor(Math.random() * pool.length)];
        document.getElementById('q-ctx').innerText = item.ctx;
        document.getElementById('q-word').innerText = item.q;

        let all = []; Object.values(DATA).forEach(l => all.push(...l));
        let distractors = all.filter(x => x.a !== item.a).sort(() => 0.5 - Math.random()).slice(0, 3);
        let opts = [item, ...distractors].sort(() => 0.5 - Math.random());

        const box = document.getElementById('opt-box');
        box.innerHTML = '';
        opts.forEach(o => {
            const btn = document.createElement('div');
            btn.className = 'opt'; btn.innerText = o.a;
            btn.onclick = () => {
                if(o === item) {
                    btn.classList.add('correct');
                    xp += 10; document.getElementById('xp').innerText = xp;
                    setTimeout(next, 700);
                } else {
                    btn.classList.add('wrong');
                    document.getElementById('k-text').innerText = item.k;
                    document.getElementById('overlay').style.display = 'flex';
                }
            };
            box.appendChild(btn);
        });
    }

    function closePop() {
        document.getElementById('overlay').style.display = 'none';
        next();
    }

    window.onload = next;
</script>
</body>
</html>
